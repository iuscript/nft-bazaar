type User @entity {
  id: ID!
  tokens: [Nft!]! @derivedFrom(field: "holder")
}

type Nft @entity {
  id: ID!
  tokenURI: String
  createdAtTimestamp: BigInt!
  createdAtBlockNumber: BigInt!
  holder: User!
  orderHistory: [Order!] @derivedFrom(field: "tokenID")
}

type Offer @entity {
  id: ID!
  seller: Bytes!
  price: BigInt!
  paymentToken: Bytes!
  createdAtTimestamp: BigInt!
  createdAtBlockNumber: BigInt!
  transactionHash: Bytes!
}

type Order @entity {
  # tokenID + "-" + Timestamp
  id: ID!
  seller: Bytes!
  buyers: Bytes!
  tokenID: Nft!
  price: BigInt!
  paymentToken: Bytes!
  createdAtTimestamp: BigInt!
  createdAtBlockNumber: BigInt!
  transactionHash: Bytes!
}
